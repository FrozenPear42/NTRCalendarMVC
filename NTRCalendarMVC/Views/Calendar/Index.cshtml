@model IEnumerable<NTRCalendarMVC.ViewModels.Week>

@{
    ViewBag.Title = "Index";
}

<h2>Welcome @ViewBag.User</h2>

<div class="container-fluid">
    <table class="table">
        <tbody>
        <tr>
            <td>@Html.ActionLink("prev", "Prev")</td>
            <td>Monday</td>
            <td>Tuesday</td>
            <td>Wednesday</td>
            <td>Thursday</td>
            <td>Friday</td>
            <td>Saturday</td>
            <td>Sunday</td>
            <td>@Html.ActionLink("prev", "Prev")</td>
        </tr>

        @foreach (var week in Model) {
            <tr>
                <td>
                    @Html.ValueFor(m => week.Number, "W{0}")
                    <br/>
                    @Html.ValueFor(m => week.Year)
                </td>
                @foreach (var day in week.Days) {
                    <td class="day-cell">
                        <div>
                            <div class="day-header">
                                @day.Name
                                @Html.ActionLink("+", "Create", new {day = day.Date})
                            </div>
                            <div class="appointment-list">
                                @foreach (var appointment in day.Appointments) {
                                    <div class="appointment-item">
                                        @Html.ValueFor(m => appointment.StartTime, "{0:hh\\:mm} - ")
                                        @Html.ValueFor(m => appointment.EndTime, "{0:hh\\:mm}")
                                        <br/>
                                        @Html.ActionLink(appointment.Title, "Details", new {id = appointment.AppointmentID})
                                    </div>
                                }
                            </div>
                        </div>
                    </td>
                }
                <td>W @week.Number<br/>@week.Year</td>
            </tr>
        }
        </tbody>
    </table>
</div>